<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>BAZAAR</title>
  <link rel="icon" type="image/png" href="img/favicon.png">
</head>

<body>
	<div class="navbar navbar-inverse navbar-fixed-top">
    <div class="navbar-inner">
      <div class="container">
        <a class="brand" href="#">Bazaar</a>
        <div class="nav-collapse collapse">
          <p class="navbar-text pull-right">
           <!-- Logged in as <a href="#" class="navbar-link">Username</a> -->
          </p>
          <ul class="nav">

          </ul>
        </div><!--/.nav-collapse -->
      </div>
    </div>
  </div>
	

 <div class="container" id="fixed" when-scrolled="loadMore()">
		<div class="row" id="row1">
			<div class="span3 " >
				<p></p>
			</div>
		  <div class="span5" >
		      <h1>Welcome to Bazaar!</h1>
		      <p class="lead">Products that empower </p>			
		  </div>		
			<div class="span3" >
				<p></p>
			</div>	
		</div>
		{{>stream}}
 </div>  <!--Le Container-->

</body>



<template name="stream">
{{#each product}}
	{{>product}}
{{/each}}
</template>

<template name="product">
	<div class="row product" id="row">
		<div class="span3" >
			{{#if leftStory}}
	    		<div class="left-story story">
	        		{{>story}}
	      		</div>
      		{{/if}}
		</div>
		<div class="span5">
			<div class="product_info">
				<a href="#" class="photo_link"><img src="{{this.imageUrl}}"></a>
				<div class="details">
					<h1><a href="#">{{this.name}}</a></h1>
					<p>{{this.description}}</p>
					<span class="price">${{this.price}}</price>
				</div>		
			</div>
		</div>		
		<div class="span3">
			{{#if rightStory}}
				<div class="right-story story">
		        	{{>story}}
		    	</div>
	    	{{/if}}
		</div>	
	</div>
</template>

<template name="story">
	<div class="avatar">
	</div>
	<a class="name">{{this.creator.name}}</a>
	<p>{{this.creator.short_story}}</p>
</template>

<!--<script type='text/javascript'>//<![CDATA[ 

function Main($scope) {
    $scope.items = [];
    
    var counter = 1;
    $scope.loadMore = function() {
        for (var i = 1; i < 5; i++) {
            $scope.items.push({id: counter});
            counter += 1;
        }
    };
    
    $scope.loadMore();
}

angular.module('scroll', []).directive('whenScrolled', function() {
    return function(scope, elm, attr) {
        var raw = elm[0];
        
        elm.bind('scroll', function() {
            if (raw.scrollTop + raw.offsetHeight >= raw.scrollHeight) {
                scope.$apply(attr.whenScrolled);
            }
        });
    };
});

//]]>  

</script>-->
